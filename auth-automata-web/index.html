<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Validación con Autómatas: Email y Contraseña</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="app">
      <div class="left">
        <h1>Login con Autómatas</h1>
        <div class="subtitle">Valida correo y contraseña en tiempo real con DFA visualizado.</div>

        <!-- Inputs permanecen aquí -->
        <div class="field">
          <label for="email">Correo electrónico</label>
          <div class="input-row">
            <input id="email" type="text" placeholder="usuario@dominio.com" autocomplete="off" />
            <div class="badge">—</div>
          </div>
        </div>

        <div class="field">
          <label for="password">Contraseña</label>
          <div class="input-row">
            <input id="password" type="password" placeholder="Al menos 8, con min+MAY+dig" autocomplete="off" />
            <div class="badge">—</div>
          </div>
        </div>

        <div class="controls">
          <label class="toggle">
            <input id="animate" type="checkbox" />
            Animar recorrido del autómata
          </label>
          <div class="tabs">
            <button id="tab-email" class="tab active">Autómata Email</button>
            <button id="tab-pwd" class="tab">Autómata Contraseña</button>
          </div>
        </div>

        <!-- NUEVO: Paso a paso movido a la zona señalada (columna izquierda) -->
        <div id="steps-drawer" class="steps-drawer">
          <div class="steps-header">
            <span class="title">Paso a paso</span>
            <span id="active-automaton" class="pill">Email</span>
          </div>
          <div id="email-steps" class="steps-wrap"></div>
          <div id="pwd-steps" class="steps-wrap hidden"></div>
        </div>
      </div>

      <div class="right">
        <div class="panels">
          <div id="panel-email" class="panel">
            <div class="svg-wrap">
              <div id="email-state-badge" class="state-badge">Estado: S</div>
              <svg id="email-svg" viewBox="0 0 640 420" preserveAspectRatio="xMidYMid meet"></svg>
            </div>

            <div class="legend">
              <div class="item"><span class="swatch node"></span> Estado</div>
              <div class="item"><span class="swatch node accepting"></span> Aceptación</div>
              <div class="item"><span class="swatch node trap"></span> Trampa</div>
              <div class="item"><span class="swatch edge"></span> Arista recorrida</div>
              <div class="item"><span class="swatch start"></span> Inicio</div>
            </div>

            <div class="progress">
              <div class="label">Recorrido</div>
              <div id="email-progress" class="progress-text">—</div>
            </div>

            <div class="help">
              <strong>Estados:</strong> S (inicio), L (local), D (dominio), AFTER_DOT (tras '.'), TLD (tld), TRAP (error).
            </div>
          </div>

          <div id="panel-pwd" class="panel hidden">
            <div class="svg-wrap">
              <div id="pwd-state-badge" class="state-badge">Estado: 000</div>
              <svg id="pwd-svg" viewBox="0 0 640 420" preserveAspectRatio="xMidYMid meet"></svg>
            </div>

            <div class="legend">
              <div class="item"><span class="swatch node"></span> Estado</div>
              <div class="item"><span class="swatch node accepting"></span> Aceptación</div>
              <div class="item"><span class="swatch node trap"></span> Trampa</div>
              <div class="item"><span class="swatch edge"></span> Arista recorrida</div>
              <div class="item"><span class="swatch start"></span> Inicio</div>
            </div>

            <div class="progress">
              <div class="label">Recorrido</div>
              <div id="pwd-progress" class="progress-text">—</div>
            </div>

            <div class="help">
              <strong>Bits (L,U,D):</strong> L=minúscula, U=mayúscula, D=dígito. Acepta en 111 con longitud ≥ 8.
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Tooltip global para descripciones en hover -->
    <div id="tooltip" class="tooltip hidden"></div>

    <script src="./regex.js"></script>
    <script src="./script.js"></script>
  </body>
</html>